---
kind: pipeline
type: docker
name: weather-app

steps:
- name: backend static checks
  image: python:3.11
  commands:
    - pip install -r requirements-dev.txt
    - ruff check --fix
    - ruff format

- name: backend unit-tests
  image: python:3.11
  commands:
    - pip install -r backend/requirements.txt
    - pip install -r backend/tests/requirements.txt
    - pytest backend/tests

- name: frontend tests
  image: python:3.11
  commands:
    - echo "hey"

# trigger:
#   branch:
#     - master
#     - development
#   event:
#     - push